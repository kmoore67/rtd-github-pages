<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Telemetry &mdash; HOT Programmers Guide 1.0.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Commands" href="commands.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            HOT Programmers Guide
          </a>
              <div class="version">
                master
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Programming/programmingIndex.html">Programming Basics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../SoftwareInstall/softwareInstallIndex.html">Setup Development Environment</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../SoftwareInstall/testingIndex.html">Setup Testing Environment</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="robotBasicsIndex.html">Robot Basics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="exampleCode.html">Example Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="basicStructure.html">Basic Robot Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="subSystems.html">Subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Telemetry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#network-tables">Network Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shuffleboard">Shuffleboard</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-sendable-interface">The Sendable Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advantage-scope">Advantage Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-walkthrough">Code WalkThrough</a></li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HOT Programmers Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="robotBasicsIndex.html">Robot Basics</a></li>
      <li class="breadcrumb-item active">Telemetry</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/maltfield/rtd-github-pages/blob/master/docs/RobotBasics/telemetry.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <meta name="robots" content="noindex"><section id="telemetry">
<h1>Telemetry<a class="headerlink" href="#telemetry" title="Permalink to this heading"></a></h1>
<p>When you are running code on a robot it’s very useful to track how data is passing through the system as it operates.  This is referred to as <em>Telemetry</em>, which is the science of automatically collecting measurements and transmitting them to a receiving station.  Telemetry is a critical tool for fine tuning a system and figuring out why a system isn’t operating the way it should. Remember, that robots are data driven machines, so in order to test our code we’ll need to see the data.</p>
<p>When creating Commands and Subsystems for our robot it’s important to build in telemetry functions right from the start.  When testing your code on the robot things often do not go as expected at first.  In order to solve the problem quickly it’s good to have the diagnostic data readily at hand.  For simple data structures you can directly output values to the <em>SmartDashboard</em> from the <strong>periodic()</strong> loop.</p>
<section id="network-tables">
<h2>Network Tables<a class="headerlink" href="#network-tables" title="Permalink to this heading"></a></h2>
<p><a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/networktables/index.html">Network Tables</a> are used to communicate between the robot, driver station, and any attached coprocessors, such as a Raspberry Pi or Jetson.  Network Table values are automatically distributed to all of the systems that are connected to them.  They’re a core technology used for transmitting telemetry data between the robot and dashboards.</p>
<img alt="../_images/NetworkTables.001.jpeg" src="../_images/NetworkTables.001.jpeg" />
<p>NetworkTables classes are instantiated automatically when your program starts. There are some default tables that are created automatically at start up. As you add telemetry to your robot you’ll be placing data values into these NetworkTables.</p>
</section>
<section id="shuffleboard">
<h2>Shuffleboard<a class="headerlink" href="#shuffleboard" title="Permalink to this heading"></a></h2>
<p>FRC has developed a tool called <em>Shuffleboard</em>, which allows you to view all of the data that’s generated from the robot in Real-Time.  It also enables you to send data to the robot in order to make commands more flexible and change the behaviour of the robot.</p>
<p>The documentation explains how to <a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/wpilib-tools/shuffleboard/getting-started/shuffleboard-tour.html#starting-shuffleboard">Start Shuffleboard</a>  depending on your development laptop.</p>
<p>Prior to the release of the <em>Shuffleboard</em> tool FRC used an application called <a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/dashboards/smartdashboard/index.html">SmartDashboard</a>.  To maintain backwards compatibilty <em>SmartDashboard</em> has been incorporated into <em>Shuffleboard</em>.  From the robot code <em>SmartDashboard</em> is still the easiest way to output telemetry data.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>SmartDashboard</strong> has been deprecated and will be removed from WPILIB in 2027. You should focus on using Shuffleboard!</p>
</div>
</section>
<section id="the-sendable-interface">
<h2>The Sendable Interface<a class="headerlink" href="#the-sendable-interface" title="Permalink to this heading"></a></h2>
<p>The FRC documentaton has instructions on <a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/telemetry/telemetry.html#adding-telemetry-to-robot-code">Adding Telemetry to Robot Code</a>. Most of this is done using the <em>Sendable</em> interface provided by WPILib that’s documented in <a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/telemetry/robot-telemetry-with-sendable.html#robot-telemetry-with-sendable">Robot Telemetry with Sendable</a>. The <em>Sendable</em> interface automatically sends telemetry values every robot loop, removing the need to handle the periodic logic of sending and receiving values from the dashboard.</p>
<p>For simple data structures however, you can directly output values to the <em>SmartDashboard</em> from the <cite>periodic()</cite> loop, which is how we’ll be doing it in the lab.</p>
</section>
<section id="advantage-scope">
<h2>Advantage Scope<a class="headerlink" href="#advantage-scope" title="Permalink to this heading"></a></h2>
<p><strong>Advantage Scope</strong> is a robot diagnostics, log review/analysis, and data visualization application for FIRST Robotics Competition teams. It reads logs in WPILOG, DS log, and RLOG file formats, plus live robot data viewing using NT4 or RLOG streaming. Here’s the online documentation of <a class="reference external" href="https://github.com/Mechanical-Advantage/AdvantageScope/blob/main/docs/INDEX.md">AdvantageScope</a>.</p>
<img alt="../_images/AdvantageKit.003.jpeg" src="../_images/AdvantageKit.003.jpeg" />
<p>Advantage Scope can also be used while you are simulating robot code. It connects directly with the simulator and can provide a representation of the competition field and the location of your simulated robot on that field in both 2D and 3D views. In additoin, it will display all of the data in Network Tables and allow you to graph these variables in real time-as you are testing:</p>
<img alt="../_images/AdvantageScope.001.jpeg" src="../_images/AdvantageScope.001.jpeg" />
<p>One of the best kept secrets about Advantage Scope is that you can change data while running your test. More about that in the Advantage Scope deep dive later in your training.</p>
</section>
<section id="code-walkthrough">
<h2>Code WalkThrough<a class="headerlink" href="#code-walkthrough" title="Permalink to this heading"></a></h2>
<p>Let’s walk through the example code on how to display telemetry data. Take a look at the <strong>Intake</strong> subsystem in the <strong>ProgTrain1</strong> example code. The first thing to do is to define a new tab on the <em>Shuffleboard</em> to hold your data we will call it <strong>intakeShuffleboard</strong>.</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">ShuffleboardTab</span><span class="w"> </span><span class="n">intakeShuffleboard</span><span class="p">;</span>
</pre></div>
</div>
<p>Then we define variables to become our <em>Shuffleboard</em> widgets to place on our new tab.</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Shuffleboard entrys */</span>
<span class="kd">private</span><span class="w"> </span><span class="n">GenericEntry</span><span class="w"> </span><span class="n">intakePosition</span><span class="p">;</span>
<span class="kd">private</span><span class="w"> </span><span class="n">GenericEntry</span><span class="w"> </span><span class="n">intakeVelocity</span><span class="p">;</span>
<span class="kd">private</span><span class="w"> </span><span class="n">GenericEntry</span><span class="w"> </span><span class="n">intakeAppliedVolts</span><span class="p">;</span>
<span class="kd">private</span><span class="w"> </span><span class="n">GenericEntry</span><span class="w"> </span><span class="n">intakeSupplyCurrent</span><span class="p">;</span>
<span class="kd">private</span><span class="w"> </span><span class="n">GenericEntry</span><span class="w"> </span><span class="n">intakeTorqueCurrent</span><span class="p">;</span>
<span class="kd">private</span><span class="w"> </span><span class="n">GenericEntry</span><span class="w"> </span><span class="n">intakeTemp</span><span class="p">;</span>
<span class="kd">private</span><span class="w"> </span><span class="n">GenericEntry</span><span class="w"> </span><span class="n">intakeState</span><span class="p">;</span>
</pre></div>
</div>
<p>Next in the <em>Intake Constructor</em> we instantiate the <em>Shuffleboard tab</em> and we add the widgets to the tab and connect the variables we defined in your last code-block:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="c1">//Define Suffleboard Tab for this Subsystem</span>
<span class="k">this</span><span class="p">.</span><span class="na">intakeShuffleboard</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Shuffleboard</span><span class="p">.</span><span class="na">getTab</span><span class="p">(</span><span class="s">&quot;Intake&quot;</span><span class="p">);</span>
<span class="n">intakeVelocity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">intakeShuffleboard</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Velocity (rot per s)&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">).</span><span class="na">getEntry</span><span class="p">();</span>
<span class="n">intakePosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">intakeShuffleboard</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Position (rot)&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">).</span><span class="na">getEntry</span><span class="p">();;</span>
<span class="n">intakeSupplyCurrent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">intakeShuffleboard</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Supply Current&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">).</span><span class="na">getEntry</span><span class="p">();</span>
<span class="n">intakeTorqueCurrent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">intakeShuffleboard</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Torque Current&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">).</span><span class="na">getEntry</span><span class="p">();</span>
<span class="n">intakeTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">intakeShuffleboard</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Motor Temp&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">).</span><span class="na">getEntry</span><span class="p">();</span>
<span class="n">intakeAppliedVolts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">intakeShuffleboard</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Applied Volts&quot;</span><span class="p">,</span><span class="mf">0.0</span><span class="p">).</span><span class="na">getEntry</span><span class="p">();</span>
<span class="n">intakeState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">intakeShuffleboard</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;State&quot;</span><span class="p">,</span><span class="s">&quot;&quot;</span><span class="p">).</span><span class="na">getEntry</span><span class="p">();</span>
</pre></div>
</div>
<p>and finally, in our <strong>UpdateTelemetry</strong> method, we take the motor data in our ioStats class and put it into the variables (widgets) to display the data on the <strong>ShuffleBoard</strong>. That’s all there is to it:</p>
<div class="highlight-Java notranslate"><div class="highlight"><pre><span></span><span class="cm">/************************************************</span>
<span class="cm">* Update the Shuffleboard with Motor Statistics</span>
<span class="cm">************************************************/</span>
<span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">UpdateTelemetry</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">intakeVelocity</span><span class="p">.</span><span class="na">setDouble</span><span class="p">(</span><span class="n">ioStats</span><span class="p">.</span><span class="na">rollerVelocityRpm</span><span class="p">);</span>
<span class="w">    </span><span class="n">intakePosition</span><span class="p">.</span><span class="na">setDouble</span><span class="p">(</span><span class="n">ioStats</span><span class="p">.</span><span class="na">rollerPositionRads</span><span class="p">);</span>
<span class="w">    </span><span class="n">intakeSupplyCurrent</span><span class="p">.</span><span class="na">setDouble</span><span class="p">(</span><span class="n">ioStats</span><span class="p">.</span><span class="na">rollerSupplyCurrentAmps</span><span class="p">);</span>
<span class="w">    </span><span class="n">intakeTorqueCurrent</span><span class="p">.</span><span class="na">setDouble</span><span class="p">(</span><span class="n">ioStats</span><span class="p">.</span><span class="na">rollerTorqueCurrentAmps</span><span class="p">);</span>
<span class="w">    </span><span class="n">intakeAppliedVolts</span><span class="p">.</span><span class="na">setDouble</span><span class="p">(</span><span class="n">ioStats</span><span class="p">.</span><span class="na">rollerAppliedVolts</span><span class="p">);</span>
<span class="w">    </span><span class="n">intakeTemp</span><span class="p">.</span><span class="na">setDouble</span><span class="p">(</span><span class="n">ioStats</span><span class="p">.</span><span class="na">rollerTempCelsius</span><span class="p">);</span>
<span class="w">    </span><span class="n">intakeState</span><span class="p">.</span><span class="na">setValue</span><span class="p">(</span><span class="n">currentState</span><span class="p">.</span><span class="na">name</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Take extra care to get the units right in the display. Some are reporting in Rotations or Volts or Rotations per second. Most new programmers stumble trying to keep the units correct when they display the data on the Shuffleboard.</p>
</div>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>FRC Documentation - <a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/telemetry/index.html">Telemetry</a></p></li>
<li><p>FRC Documentation - <a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/wpilib-tools/shuffleboard/index.html">Shuffleboard</a></p></li>
<li><p>FRC Documentation - <a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/dashboards/smartdashboard/index.html">SmartDashboard</a></p></li>
<li><p>FRC Documentation - <a class="reference external" href="https://docs.wpilib.org/en/stable/docs/software/networktables/index.html">Network Tables</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="commands.html" class="btn btn-neutral float-left" title="Commands" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright HOT Programming Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: master
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt>Languages</dt>
        
           <strong> 
          <dd><a href="/rtd-github-pages/en/master/">en</a></dd>
           </strong> 
        
          
          <dd><a href="/rtd-github-pages/es/master/">es</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Versions</dt>
        
          
          <dd><a href="/rtd-github-pages/en/dev/">dev</a></dd>
          
        
           <strong> 
          <dd><a href="/rtd-github-pages/en/master/">master</a></dd>
           </strong> 
        
      </dl>
      
      
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/rtd-github-pages/en/master/rtd-github-pages_en_master.pdf">pdf</a></dd>
        
          <dd><a href="/rtd-github-pages/en/master/rtd-github-pages_en_master.epub">epub</a></dd>
        
      </dl>
      
      
      <hr/>
      <a href="https://tech.michaelaltfield.net/2020/07/18/sphinx-rtd-github-pages-1/">Continuous Documentation</a> hosting provided by <a href="https://pages.github.com/">GitHub Pages</a>.
 
    </div>
  </div>

 <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>